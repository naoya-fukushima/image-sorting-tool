# 顔画像仕分けツール

## 概要

このツールは、指定された人ごとに顔写真を自動で仕分けするツールです。

## フォルダ構成

---

```
顔画像仕分けツール/
├── setup.sh                 ← ★1回だけ実行して仮想環境＆ライブラリを作る
├── 01_仕分け開始.command   ← ダブルクリックで実行（何度でも使える）
├── 01_仕分け開始.py        ← 自動で使われる（触らない）
├── requirements.txt         ← 必要なライブラリ一覧
└── face_sorter/
    ├── reference_faces/     ← 正解データ（人物ごとの写真 この下に人物名でフォルダを作ってください）
    ├── input_images/        ← 振り分けたい写真を入れる場所
    ├── sorted_images/       ← 自動で出力される（仕分け結果）
```

---

## 初回セットアップ

1.フォルダを解凍
2.setup.sh を右クリック → 「ターミナルで開く」
ダメだったら以下を実行
chmod +x setup.sh 3.実行が完了したら、次からは 01*仕分け開始.command をダブルクリックで OK
権限がない系のエラーでたら以下を実行
chmod +x 01*仕分け開始.command

## 準備

1. 「ターミナル」を開く
2. このフォルダに移動（ドラッグでも OK）
3. 下のコマンドをコピペして実行：
   chmod +x 01\_仕分け開始.command

#### 初回の起動方法

1. `sort_start` を **右クリック**
2. 「開く」を選択
3. 「開いてもよろしいですか？」と表示されたら「開く」をクリック

## 使用手順

1. `face_sorter/input_images/` フォルダに仕分け対象の画像を入れます
2. フォルダの中にある `01_仕分け開始.command` を **ダブルクリック** します。
   ※警告でたら以下を実施してください
   .command ファイルを右クリック（または control + クリック）
   「開く」を選択
   ダイアログが出たら「開く」をもう一度クリック
3. 自動で仕分けが始まり、`sorted_images` に結果が保存されます

---

## 補足事項

- 画像に顔が写っていない、または識別できなかった場合は `unknown` フォルダに入ります
- 1 枚も顔を識別できなかった人物のフォルダは `sorted_images` 内に作成されません。（仕分けが行われていないので）
- エラーが発生した場合、`copy_failed.log` にファイル名が記録されます
- 同じ画像が既に仕分け先にある場合はスキップされます

---

## 仕分けをやり直したい場合

- `input_images/` フォルダの画像を削除または差し替える
- `sorted_images/` フォルダを空にすることで再仕分けが可能です

---
